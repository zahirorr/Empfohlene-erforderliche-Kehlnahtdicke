<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Empfohlene Kehlnahtdicke berechnen</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
      }

      body {
        margin: 0;
        padding: 2.5rem 1rem;
        display: flex;
        justify-content: center;
        background: radial-gradient(circle at top, #f4f6fb, #d6dde8 60%, #c8d0dc);
      }

      main {
        width: min(720px, 100%);
        background: rgba(255, 255, 255, 0.88);
        box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.15);
        border-radius: 1rem;
        padding: 2.75rem 2.5rem 2.5rem;
        backdrop-filter: blur(6px);
        display: grid;
        gap: 1.5rem;
      }

      .hero-image {
        margin: 0;
        display: flex;
        justify-content: center;
      }

      .hero-image img {
        width: min(240px, 100%);
        border-radius: 0.9rem;
        box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);
      }

      .toolbar {
        display: flex;
        justify-content: flex-end;
      }

      h1 {
        margin-top: 0;
        font-size: clamp(1.75rem, 2.5vw + 1rem, 2.5rem);
        text-align: center;
        color: #24324b;
      }

      p.lead {
        margin: 0 0 1.75rem;
        color: #46556d;
        text-align: center;
      }

      form {
        display: grid;
        gap: 1.25rem;
      }

      label {
        display: grid;
        gap: 0.35rem;
        font-weight: 600;
        color: #2d3b52;
      }

      input[type="number"] {
        padding: 0.75rem 0.85rem;
        border-radius: 0.65rem;
        border: 1px solid #a8b4c6;
        font-size: 1rem;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #3f6ad8;
        box-shadow: 0 0 0 3px rgba(63, 106, 216, 0.2);
      }

      .input-with-unit {
        display: grid;
        grid-template-columns: 1fr auto;
        align-items: center;
        gap: 0.75rem;
      }

      .input-with-unit span {
        font-weight: 600;
        color: #3b4a64;
      }

      button {
        justify-self: start;
        padding: 0.8rem 1.6rem;
        border: none;
        border-radius: 999px;
        font-size: 1rem;
        font-weight: 700;
        color: #fff;
        background: linear-gradient(135deg, #3f6ad8, #8a75f5);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 0.75rem 1.5rem rgba(63, 106, 216, 0.35);
      }

      button:active {
        transform: translateY(0);
        box-shadow: none;
      }

      #language-toggle {
        padding: 0.55rem 1.35rem;
        font-weight: 600;
        font-size: 0.95rem;
        background: linear-gradient(135deg, #2f477d, #5e7fdc);
      }

      .results {
        margin-top: 2rem;
        display: grid;
        gap: 0.9rem;
        background: rgba(63, 106, 216, 0.12);
        border-radius: 0.9rem;
        padding: 1.2rem 1.5rem;
      }

      .results h2 {
        margin: 0;
        font-size: 1.2rem;
        color: #26344d;
      }

      .result-line {
        display: flex;
        justify-content: space-between;
        font-size: 1.1rem;
        font-weight: 600;
        color: #1c2840;
      }

      .hint {
        margin-top: 1rem;
        font-size: 0.95rem;
        color: #5a6579;
        background: rgba(255, 255, 255, 0.7);
        padding: 1.2rem 1.4rem;
        border-radius: 0.9rem;
        border-left: 4px solid #8a75f5;
      }

      .hint h2 {
        margin-top: 0;
        margin-bottom: 0.75rem;
        font-size: 1.15rem;
        color: #2e3b55;
      }

      .hint ul {
        margin: 0 0 0.75rem 1.2rem;
        padding: 0;
      }

      .hint li {
        margin-bottom: 0.35rem;
      }

      .hint p {
        margin: 0.35rem 0 0;
      }

      .credit {
        margin: 0;
        text-align: center;
        font-size: 0.9rem;
        color: #4a5770;
      }

      html[dir="rtl"] body {
        font-family: "Tajawal", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
      }

      html[dir="rtl"] main {
        text-align: right;
      }

      html[dir="rtl"] .toolbar {
        justify-content: flex-start;
      }

      html[dir="rtl"] .results h2 {
        text-align: right;
      }

      html[dir="rtl"] .result-line {
        flex-direction: row-reverse;
      }

      html[dir="rtl"] .hint ul {
        margin: 0 1.2rem 0.75rem 0;
      }

      @media (max-width: 520px) {
        main {
          padding: 2rem 1.6rem;
        }

        .result-line {
          flex-direction: column;
          gap: 0.25rem;
        }

        .toolbar {
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <div class="toolbar">
        <button type="button" id="language-toggle">Sprache: Deutsch</button>
      </div>
      <figure class="hero-image">
        <img
          src="https://4innovative-engineers.com/media/cache/thumb/8d59dbf1b12984db33828536ce4ba6af64545b98.jpeg"
          alt="Schweißer mit Schutzmaske bei der Arbeit"
        />
      </figure>
      <h1 data-i18n="title">Empfohlene erforderliche Kehlnahtdicke</h1>
      <p class="lead" data-i18n="lead">
        Berechne die minimale und maximale empfohlene Kehlnahtdicke aus den
        Wandstärken zweier zu verbindender Bleche.
      </p>
      <form id="kehlnaht-form">
        <label>
          <span class="label-text" data-i18n="thicknessA">1. Wandstärke</span>
          <span class="input-with-unit">
            <input
              type="number"
              id="thicknessA"
              name="thicknessA"
              min="0"
              step="0.1"
              required
              placeholder="z. B. 6"
              inputmode="decimal"
            />
            <span>mm</span>
          </span>
        </label>
        <label>
          <span class="label-text" data-i18n="thicknessB">2. Wandstärke</span>
          <span class="input-with-unit">
            <input
              type="number"
              id="thicknessB"
              name="thicknessB"
              min="0"
              step="0.1"
              required
              placeholder="z. B. 5"
              inputmode="decimal"
            />
            <span>mm</span>
          </span>
        </label>
        <button type="submit" data-i18n="submit">Ergebnis anzeigen</button>
      </form>

      <section class="results" aria-live="polite">
        <h2 data-i18n="resultsTitle">Ergebnisse</h2>
        <div class="result-line">
          <span data-i18n="resultMin">min. a-Maß</span>
          <span><output id="amin">–</output> mm</span>
        </div>
        <div class="result-line">
          <span data-i18n="resultMax">max. a-Maß</span>
          <span><output id="amax">–</output> mm</span>
        </div>
      </section>

      <section class="hint">
        <h2 data-i18n="foundationTitle">Grundlage</h2>
        <p data-i18n="foundationDescription">
          Die Berechnungen basieren auf folgenden Richtwerten:
        </p>
        <ul>
          <li data-i18n="foundationRuleMax">
            a<sub>max</sub> = 0,7 · min(t<sub>1</sub>, t<sub>2</sub>)
          </li>
          <li data-i18n="foundationRuleMin">
            a<sub>min</sub> = √(max(t<sub>1</sub>, t<sub>2</sub>)) − 0,5
          </li>
        </ul>
        <p data-i18n="foundationNote">
          Alle Eingaben erfolgen in Millimetern. Die Ergebnisse werden auf drei
          Nachkommastellen gerundet.
        </p>
      </section>

      <p class="credit" data-i18n="developedBy">
        Entwickelt von Ingenieur Zaher Taleb
      </p>
    </main>

    <script>
      const form = document.getElementById("kehlnaht-form");
      const resultAmin = document.getElementById("amin");
      const resultAmax = document.getElementById("amax");
      const languageToggle = document.getElementById("language-toggle");

      const translations = {
        de: {
          locale: "de-DE",
          direction: "ltr",
          languageButtonLabel: "Sprache: Deutsch",
          title: "Empfohlene erforderliche Kehlnahtdicke",
          lead:
            "Berechne die minimale und maximale empfohlene Kehlnahtdicke aus den Wandstärken zweier zu verbindender Bleche.",
          thicknessA: "1. Wandstärke",
          thicknessB: "2. Wandstärke",
          placeholderA: "z. B. 6",
          placeholderB: "z. B. 5",
          submit: "Ergebnis anzeigen",
          resultsTitle: "Ergebnisse",
          resultMin: "min. a-Maß",
          resultMax: "max. a-Maß",
          foundationTitle: "Grundlage",
          foundationDescription:
            "Die Berechnungen basieren auf folgenden Richtwerten:",
          foundationRuleMax:
            "a<sub>max</sub> = 0,7 · min(t<sub>1</sub>, t<sub>2</sub>)",
          foundationRuleMin:
            "a<sub>min</sub> = √(max(t<sub>1</sub>, t<sub>2</sub>)) − 0,5",
          foundationNote:
            "Alle Eingaben erfolgen in Millimetern. Die Ergebnisse werden auf drei Nachkommastellen gerundet.",
          developedBy: "Entwickelt von Ingenieur Zaher Taleb",
        },
        en: {
          locale: "en-US",
          direction: "ltr",
          languageButtonLabel: "Language: English",
          title: "Recommended Required Fillet Weld Size",
          lead:
            "Calculate the minimum and maximum recommended fillet weld size from the thicknesses of the two plates to be joined.",
          thicknessA: "1st plate thickness",
          thicknessB: "2nd plate thickness",
          placeholderA: "e.g. 6",
          placeholderB: "e.g. 5",
          submit: "Show result",
          resultsTitle: "Results",
          resultMin: "Min. a-dimension",
          resultMax: "Max. a-dimension",
          foundationTitle: "Basis",
          foundationDescription:
            "The calculation follows these reference guidelines:",
          foundationRuleMax:
            "a<sub>max</sub> = 0.7 × min(t<sub>1</sub>, t<sub>2</sub>)",
          foundationRuleMin:
            "a<sub>min</sub> = √(max(t<sub>1</sub>, t<sub>2</sub>)) − 0.5",
          foundationNote:
            "Enter values in millimetres. Results are rounded to three decimal places.",
          developedBy: "Developed by Engineer Zaher Taleb",
        },
        ar: {
          locale: "ar",
          direction: "rtl",
          languageButtonLabel: "اللغة: العربية",
          title: "سُمك لحام الزاوية الموصى به",
          lead:
            "احسب الحدين الأدنى والأعلى لسُمك لحام الزاوية الموصى به بالاعتماد على سماكة اللوحين المراد لحامهما.",
          thicknessA: "سماكة اللوح الأول",
          thicknessB: "سماكة اللوح الثاني",
          placeholderA: "مثال: ٦",
          placeholderB: "مثال: ٥",
          submit: "عرض النتيجة",
          resultsTitle: "النتائج",
          resultMin: "أصغر قيمة a",
          resultMax: "أكبر قيمة a",
          foundationTitle: "الأساس",
          foundationDescription: "تستند الحسابات إلى القواعد الإرشادية التالية:",
          foundationRuleMax:
            "a<sub>max</sub> = ٠٫٧ × min(t<sub>1</sub>, t<sub>2</sub>)",
          foundationRuleMin:
            "a<sub>min</sub> = √(max(t<sub>1</sub>, t<sub>2</sub>)) − ٠٫٥",
          foundationNote:
            "تُدخل القيم بالملليمتر، وتُقرب النتائج إلى ثلاثة منازل عشرية.",
          developedBy: "تم التطوير بواسطة المهندس زاهر طالب",
        },
      };

      const i18nElements = {
        title: document.querySelector('[data-i18n="title"]'),
        lead: document.querySelector('[data-i18n="lead"]'),
        thicknessA: document.querySelector('[data-i18n="thicknessA"]'),
        thicknessB: document.querySelector('[data-i18n="thicknessB"]'),
        submit: document.querySelector('[data-i18n="submit"]'),
        resultsTitle: document.querySelector('[data-i18n="resultsTitle"]'),
        resultMin: document.querySelector('[data-i18n="resultMin"]'),
        resultMax: document.querySelector('[data-i18n="resultMax"]'),
        foundationTitle: document.querySelector('[data-i18n="foundationTitle"]'),
        foundationDescription: document.querySelector(
          '[data-i18n="foundationDescription"]'
        ),
        foundationRuleMax: document.querySelector(
          '[data-i18n="foundationRuleMax"]'
        ),
        foundationRuleMin: document.querySelector(
          '[data-i18n="foundationRuleMin"]'
        ),
        foundationNote: document.querySelector('[data-i18n="foundationNote"]'),
        developedBy: document.querySelector('[data-i18n="developedBy"]'),
      };

      const inputs = {
        thicknessA: document.getElementById("thicknessA"),
        thicknessB: document.getElementById("thicknessB"),
      };

      const supportedLanguages = ["de", "en", "ar"];
      let currentLanguage = "de";

      const applyTranslations = (lang) => {
        const config = translations[lang];
        if (!config) return;

        document.documentElement.lang = lang;
        document.documentElement.dir = config.direction || "ltr";
        languageToggle.textContent = config.languageButtonLabel;

        i18nElements.title.textContent = config.title;
        i18nElements.lead.textContent = config.lead;
        i18nElements.thicknessA.textContent = config.thicknessA;
        i18nElements.thicknessB.textContent = config.thicknessB;
        inputs.thicknessA.setAttribute("placeholder", config.placeholderA);
        inputs.thicknessB.setAttribute("placeholder", config.placeholderB);
        i18nElements.submit.textContent = config.submit;
        i18nElements.resultsTitle.textContent = config.resultsTitle;
        i18nElements.resultMin.textContent = config.resultMin;
        i18nElements.resultMax.textContent = config.resultMax;
        i18nElements.foundationTitle.textContent = config.foundationTitle;
        i18nElements.foundationDescription.textContent =
          config.foundationDescription;
        i18nElements.foundationRuleMax.innerHTML = config.foundationRuleMax;
        i18nElements.foundationRuleMin.innerHTML = config.foundationRuleMin;
        i18nElements.foundationNote.textContent = config.foundationNote;
        i18nElements.developedBy.textContent = config.developedBy;

        numberFormatter = new Intl.NumberFormat(config.locale, {
          minimumFractionDigits: 3,
          maximumFractionDigits: 3,
        });
      };

      const convertArabicDigits = (input) =>
        input.replace(/[\u0660-\u0669]/g, (d) =>
          String.fromCharCode(d.charCodeAt(0) - 0x0660 + 48)
        );

      const parseLocalizedNumber = (value) => {
        if (typeof value !== "string") return NaN;
        const normalized = convertArabicDigits(value)
          .trim()
          .replace(/[٫,]/g, ".")
          .replace(/[٬\s]/g, "");
        return Number.parseFloat(normalized);
      };

      let numberFormatter = new Intl.NumberFormat("de-DE", {
        minimumFractionDigits: 3,
        maximumFractionDigits: 3,
      });

      const formatNumber = (value) =>
        Number.isFinite(value) ? numberFormatter.format(value) : "–";

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const t1 = parseLocalizedNumber(form.thicknessA.value);
        const t2 = parseLocalizedNumber(form.thicknessB.value);

        if (!Number.isFinite(t1) || !Number.isFinite(t2) || t1 <= 0 || t2 <= 0) {
          resultAmin.textContent = "–";
          resultAmax.textContent = "–";
          return;
        }

        const tMin = Math.min(t1, t2);
        const tMax = Math.max(t1, t2);

        const aMax = 0.7 * tMin;
        const aMin = Math.sqrt(tMax) - 0.5;

        resultAmin.textContent = formatNumber(aMin);
        resultAmax.textContent = formatNumber(aMax);
      });

      languageToggle.addEventListener("click", () => {
        const index = supportedLanguages.indexOf(currentLanguage);
        const nextLanguage =
          supportedLanguages[(index + 1) % supportedLanguages.length];
        currentLanguage = nextLanguage;
        applyTranslations(nextLanguage);
      });

      applyTranslations(currentLanguage);
    </script>
  </body>
</html>
